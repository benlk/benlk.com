.post {
  p,
  ul,
  ol {
    max-width: 100%;
  }
  blockquote {
    border-left:.5em solid @lgray;
    padding: 0 2em;
    margin: 0 0 20px;
    max-width: 476px;
    p {
      color: #666;
      max-width: 460px;
    }
    cite {
      &::before{
        content: '\2014 \00A0';
      }
    }
  }
}

.intro.single {
  text-align: center;
}

.meta {
  text-align: right;
  a,
  a:hover{
    color: @dkgray;
  }
  ul {
    border: none;
    float: right;
    margin-left: 1em;
  }
  li {
    list-style: none;
  }
}

img,
object,
embed {
  max-width: 100%;
}

/*
 * Table of Contents styles
 */
#toc {
  border: 1px solid #f3ac59;
  margin-left: 1.5em;
  margin-bottom: 1.5em;
  padding: 1.5em;
  float: right;
  max-width: 40%;
  ul {
    margin: 0 0 0 1em;;
    max-width: 100%;
  }
  li {
    list-style-position: outside;
  }
  @media (min-width: @break_xxl) {
  }
  @media (max-width: @break_m) {
    float: none;
    margin-left: 0;
    max-width: 100%;
  }
}

/**
 * Tufte CSS sidenotes
 * numbered and to the left of the main column when not on mobile
 * numbered and in the main column when mobile
 * @link https://github.com/edwardtufte/tufte-css/blob/master/tufte.css#L168
 */
.sidenote, .marginnote {
  float: left;
  clear: left;
  margin-left: -190px;  /* see subdiv.css, this should be the width of one column */
  width: 160px;
  color: @mgray;
}
.sidenote-number {
  counter-increment: sidenote-counter;
}
.sidenote-number::after,
.sidenote:before {
  content: counter(sidenote-counter) " ";
  font-family: inherit;
  position: relative;
  vertical-align: baseline;
}
.sidenote-number:after {
  content: counter(sidenote-counter) " ";
  font-size: 1em;
  top: -0.5em;
  margin-right: 0.1em;
}
.sidenote:before {
  content: counter(sidenote-counter) " ";
  top: -0.5em;
}

input.margin-toggle { display: none; }
label.sidenote-number { display: inline; }
label.margin-toggle:not(.sidenote-number) { display: none; }

@media (max-width: @break_l) {
  label.margin-toggle:not(.sidenote-number) {
    display: inline;
  }
  .sidenote-number:after {
    border-bottom: 1px solid @orange;
  }
  .sidenote, .marginnote { display: none; }
  .margin-toggle:checked + .sidenote,
  .margin-toggle:checked + .marginnote {
    float: none;
    display: block;
    clear: both;
    width: 95%;
    margin: 1em 2.5%;
    vertical-align: baseline;
    position: relative;
  }
  label {
    cursor: pointer;
  }
}

/*
 * Some div-busting:
 */
.fullwidth {
  width: 1140px;
  margin-right: -40px; /* .row width 1140 - .row.one-quarter width 245 - .row.one-quarter margin-right 40 - .row.three-quarters width 815 */
  margin-bottom: 20px; /* same as p */
  float: right;
  display: block;
  overflow: visible;
  clear: both;
  height:auto;
}
@media (max-width: 1160px) {
  .fullwidth {
    width: 960px;
    margin-right: -40px; /* .row width 960 - .row.one-quarter width 200 - .row.one-quarter margin-right 40 - .row.three-quarters width 680 */
  }
}
@media (max-width: 980px) {
  .fullwidth {
    width: 780px;
    margin-right: -40px; /* .row width 780 - .row.one-quarter width 155 - .row.one-quarter margin-right 40 - .row.three-quarters width 545 */
  }
}
@media (max-width: 820px) {
  .fullwidth {
    width: 100%;
    margin-right: 0px;
    width: 100vw;
    margin-right: -5vw;
  }
}

/*
 * Custom post types
 */

article.aside {
  padding: 30px 0 10px 0;
  h2 {
    display: none;
  }
  .meta ul {
    border: none;
    width: 100%;
    float: right;
    margin-right: 14px;
    padding: 0px 0 0px;
    position: relative;
  }
  .post-intro {
    float: left;
    clear: none;
  }
  .actions {
    display: none;
    float: left;
    clear: none;
  }
}

/*
 * General responsivity things
 */

/* XL */
@media (max-width: @break_xl) {
  .button {
    padding: 8px 20px 9px;
  }
  .meta {
    font-size: 12px;
  }
}

/* L */

@media (max-width: 820px) {
  /* Typography */
  h1, h2 {
    font-size: 18px;
  }
  h3, h4 {
    font-size: 16px;
  }
  p {
    max-width: 100%;
  }
}
